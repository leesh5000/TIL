# 직접 활용할 수 있는 SQL - 기초부터 실무 활용까지
"직접 활용할 수 있는 SQL - 기초부터 실무 활용까지" 강의를 수강하고 공부한 내용을 정리하는 저장소입니다.

## 1. DB를 사용 하는 이유는? (데이터베이스 구조)
### 1.1. 트랜잭션의 개념 (DB를 사용하는 이유)
- 트랜잭션이란, 쪼갤 수 없는 업무처리의 최소 단위를 말한다.
- 트랜잭션의 특징 : 원자성, 일관성, 고립성, 지속성
  - 원자성 : 모두 반영되거나, 모두 반영되지 않아야하는 특성
  - 일관성 : 트랜잭션 반영 후에도 DB는 일관성을 가져야한다.
  - 고립성 : 트랜잭션 간에는 서로 고립되어야 한다.
  - 지속성 : 트랜잭션 반영 후에는 DB에는 영원히 반영되어야한다. (DB가 고장이 나더라도)
- 동시 처리 시, 트랜잭션의 특성을 보장 받기 위해 DB를 사용

## 2. 데이터베이스 기본개념
### 2.1. 데이터가 저장되는 장소, 테이블이란?
- 테이블 : 데이터를 저장해놓고, 꺼내 쓰는 장소로 데이터를 담고있다.
  - 테이블의 줄 : 행 / 레코드 / row
  - 테이블의 열 : 열 / 필드 / column
- 데이터의 종류 : 문자(varchar) / 숫자(int) / 날짜(date)

### 2.2. 테이블 구조 및 null이란?
- 제약조건 NOT NULL
- 최초 설계 시, NULL을 허용할 지 고려해야함

### 2.3. 데이터 구분을 위한 기본키와 외래키
- 외래키(참조키) : 다른 테이블의 기본키를 참조하는 키
- 테이블을 나누는 이유는 하나의 테이블에 많은 필드가 존재하면, 데이터 추출/삽입 시 속도가 느려지기 때문
- 실무에서는 외래키를 거의 걸지 않으며, 참조하고 있다는 표시만 함

### 2.4. 조인의 기초 개념, 테이블 관계란? (1:1, 1:다)

### 2.5. 복습

## 3. SQL 기본개념

### 3.1. 환경구축 전 안내사항

### 3.2. aws 회원가입 및 DB서버 생성

### 3.3. 접속을 위한 aws 환경 세팅

### 3.4. 테이블 생성 및 데이터 입력

### 3.5. 테이블 설계도 ERD를 읽자

![](3_ERD.png)

- `CUSTOMERS : ORDERS` : 안 쪽의 1과 까마귀 발은 `1:다`를 나타내며, 바깥쪽의 1은 고객은 반드시 1명이 있어야하며, 바깥쪽 동그라미는 주문이 있을수도 있고 없을수도 있다는 뜻

### 3.6. 데이터 추출의 기본 뼈대, select문 이란?

- SQL : 구조적 질의 언어
- ASC가 default
```sql
SELECT 컬럼
FROM 테이블
WHERE 조건
ORDER BY 컬럼 [ASC/DESC]
```

### 3.7. select문 실습

### 3.8. 필요한 데이터만을 추출하기 위한, 연산자 학습

- 부등호 : `<> == !=`
- 범위 : `BETWEEN ... AND ...`
- 포함 : `컬럼 IN ([값], [값], ...) == WHERE 컬럼 = '값' OR 컬럼 = '값' ...`
- 문자열 패턴 : `컬럼 LIKE '%명%'`
- NULL 구분 : `IS NULL, IS NOT NULL`

### 3.9. 한번씩 필요로 하는 디테일, 형 변환의 개념

- 문자를 숫자로 : `SELECT CAST('1' as unsigned);
- 숫자를 문자로 : `SELECT CAST (1 as char(1))`
- 날짜 포맷 변경 (-> 문자로)
  - `SELECT DATE_FORMAT(NOW(), '%m/%d/%Y')`
  - `SELECT DATE_FORMAT(NOW(), '%Y-%m-%d)` + `SELECT DATE_FORMAT(NOW(), '%m')` 처럼 특정 월만 추출하는 것도 가능  
  - `SELECT DATE_FORMAT('20220303', '%Y-%m-%d)`

### 3.10. sql 기본개념 실습 문제 (1)

- 정석은 날짜 타입과 문자 타입의 데이터 형을 맞춰줘야 하지만, DB에서 자동 형변환을 해준다. 
  - DB의 자동 형변환 : `where e.hire_date between '2016-01-01' and '2016-03-31';`
  - 정석 : `where date_format(e.hire_date, '%Y-%m-%d') between '2016-01-01' and '2016-03-31';`
- `select * from employees e where date_format(e.hire_date, '%m') = '03';`
- `select * from employees e where hire_date like '%-03-%';` 도 가능


### 3.11. sql 기본개념 실습 문제 (2)