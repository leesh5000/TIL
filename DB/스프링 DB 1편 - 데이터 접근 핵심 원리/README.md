# 1. JDBC 이해

## 1.1. 프로젝트 생성

## 1.2. H2 데이터베이스 설정

## 1.3. JDBC 이해

### 애플리케이션 서버와 DB
1. TCP/IP 를 이용하여 커넥 연결
2. SQL 전달
3. 결과 응답

### 과거의 문제
- DB를 다른 DB로 변경하면 코드도 함께 변경되어야 함
- 개발자가 각각의 데이터베이스마다 커넥션, SQL 전달, 결과 응답을 학습해야한다.
- JDBC 표준 인터페이스
  - 이러한 문제를 해결하기위해 표준이 만들어졌다.
  - 다음 3가지 기능을 표준 인터페이스로 통해 제공한다.
    - 연결 : java.sql.Connection
    - SQL을 담은 내용 : java.sql.Statement
    - SQL 요청 응답 : java.sql.ResultSet
  - 이 jdbc 인터페이스를 각각의 DB 벤더사들이 구현해서 라이브러리로 제공하는데 이것을 JDBC 드라이버라고 한다.

### JDBC가 해결한 문제
1. 애플리케이션 코드가 DB에 종속되는 문제
2. 개발자가 각각 데이터베이스 마다 커넥션 연결, SQL 전달, 결과를 받는 방법을 새로 학습해야하는 문제

### 표준화의 한계

- JDBC가 DB와 관련된 많은 부분을 해결했지만, 그럼에도 불구하고 SQL, 데이터타입들은 DB마다 다르다. JDBC로 애플리케이션 코드를 변경하지 않아도 되지만, SQL은 DB에 맞게 변경해줘야한다. JPA는 이러한 문제도 많은 부분 해결할 수 있다. 

## 1.4. JDBC와 최신 데이터 접근 기술

- jdbc 직접 사용
  - 너무 복잡함
- SQL mapper
  - 장점 : jdbc를 편리하게 사용하도록 도와줌
  - 단점 : sql을 직접 작성해야함
  - 예) Spring JDBC Template, MyBatis
- ORM
  - 예) JPA - hibernate, eclipse link
- SQL Mapper vs ORM
  - SQL Mapper
    - SQL만 작성할 줄 알면, 금방 배울 수 있음
  - ORM
    - SQL을 작성하지 않아도 되지만, 기술에 대해 오래 배워야 함

### 중요

- sql mapper, orm 기술 모두 결국 jdbc를 사용한다. 따라서, jdbc의 기본 원리는 알아두어야 한다.

## 1.5. 데이터베이스 연결

### driverManager

## 1.6. JDBC 개발 - 등록

# 3. 트랜잭션 이해

## 3.1. 트랜잭션 - 개념 이해

- 데이터를 파일에 저장해도 되는데, 굳이 DB에 저장하는 이유가 뭘까?
  - 데이터베이스가 트랜잭션을 지원해주기 때문에
- 트랜잭션의 ACID

## 3.2. 데이터베이스 연결 구조와 DB 세션

- 커넥션과 세션

## 3.3. 트랜잭션 - DB 예제1 - 개념 이해

- 커밋하지 않은 데이터를 다른 곳에서 조회가 되면 데이터 정합성에 문제가 생김 (1단계)
- 커밋 이전의 데이터는 다른 세션에서 조회되면 안 됨 -> 1단계 격리수준은 거의 안 씀

### 3.4. 트랜잭션 - DB 예제2 - 자동 커밋, 수동 커밋

- 자동 커밋
  - 자동커밋모드가 default
  - 쿼리 하나가 실행될때마다 커밋이 되기 때문에 트랜잭션 기능을 제대로 사용할 수 없음
- 수동 커밋
  - **수동 커밋 모드로 설정하는 것을 트랜잭션의 시작**으로 많이들 본다.
  - 내가 원하는 범위만큼 트랜잭션을 할 수 있음 (자동 커밋 모드에서도 실제로는 한 줄 한 줄 트랜잭션이 이뤄지고 있음)
  - 수동 커밋 모드에서 `commit`, `rollback`을 하지 않으면, 설정 시간이 넘어가면 자동으로 롤백이 됨

### 3.5. 트랜잭션 - DB 예제3 - 트랜잭션 실습

- 